<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<!--FScategory:Dynamic Statistical Visualization-->

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>levfwdplot
 :: Functions (Flexible Statistics Data Analysis Toolbox&trade;)</title>
<link href="docstyle.css" rel="stylesheet" type="text/css">
<meta content="refpage" name="chunktype">


<style type="text/css">
.style1 {
	vertical-align: middle;
}
</style>


<script  type="text/javascript" language="javaScript" src="bottom.js"></script>

</head>


<body>



<a name="top_of_page"></a>
<p style="font-size: 1px;">&nbsp;</p>
<table border="0" cellpadding="0" cellspacing="0" class="nav" summary="Navigation aid" width="100%">
	<tr>
		<td valign="baseline"><b>Flexible Statistics Data Analysis Toolbox&trade;</b></td>
		<td align="right" valign="baseline"><a href="hyppsider.html">
		<img align="bottom" alt="" border="0" src="images_help/b_prev.gif"></a>&nbsp;&nbsp;
		<a href="lexunrank.html">
		<img align="bottom" alt="LXS" border="0" src="images_help/b_next.gif"></a></td>
	</tr>
</table>
<a name="bq24of9-1"></a><a class="indexterm" name="zmw57dd0e69698"></a>
<h1 class="reftitle">levfwdplot
</h1>

<p class="purpose">Leverage values in each step of the forward search.
	</p>
<h2>Syntax </h2>
<p class="synopsis"><tt>levfwdplot(out)<br>levfwdplot(out,<i><tt>param1</tt></i>,<i><tt>val1</tt></i>,<i><tt>param2</tt></i>,<i><tt>val2</tt></i>,...)<br>
</tt></p>
<a name="bq24of9-2"></a>
<h2>Description</h2>
<p><tt>levfwdplot(out)</tt> plots the trajectories of  the leverage 
<img alt="" height="35" src="plots/img41.gif" width="63" class="style1">as
soon as units join the subset. 
</p>
<p><img src="plots/wpokxeox.gif"></p>
<p>At the start of the search we have only p observations, each of which has
leverage one. The leverages decrease thereafter.</p>
<p><tt><a name="bq24of9-3"></a>levfwdplot(out)</tt> needs as input the following information
</p>
<ul type="disc">
	<li><tt>out</tt> &minus; A structure of additional statistics with the following fields.
	<ul type="circle">
		<li>
		<p><tt>LEV</tt> &minus; a matrix containing the leverages monitored in each step of
              the forward search. Every row is associated with a unit.
              This matrix can be created using function FSReda
              (compulsory argument) </p>
		</li>
		
		
		    <li>          <tt>Un</tt> = matrix containing the order of entry of each unit
              (necessary if <tt>datatooltip</tt> is true or databrush is not empty)
              </li>
            
              <li>
              <tt>y</tt> &minus; a vector containing the response (necessary only if
              option <tt>databrush</tt> is not empty)
              </li>
              <li><tt>X</tt> &minus; a matrix containing the explanatory variables
              (necessary only if option databrush is not empty)
              </li>
              <li>
              <tt>
              Bols &minus; (n-init+1) x (p+1)</tt> matrix containing the monitoring of
              estimated beta coefficients in each step of the forward search
              (necessary only if option <tt>databrush</tt> is not empty and
              suboption <tt>lineadd</tt> is not empty
</li>
		
		
	</ul>
	
	
</ul>
<p></p>
<p><tt>levfwdplot(out,<i><tt>param1</tt></i>,<i><tt>val1</tt></i>,<i><tt>param2</tt></i>,<i><tt>val2</tt></i>,...)</tt> 
specifies one or more of the name/value pairs described in the following table.</p>
<table border="2" cellpadding="4" cellspacing="0" class="body">
	<colgroup>
		<col width="21%"><col width="79%">
	</colgroup>
	<thead>
		<tr valign="top">
			<th bgcolor="#B2B2B2">Parameter</th>
			<th bgcolor="#B2B2B2">Value</th>
		</tr>
	</thead>
	<tr valign="top">
		<td bgcolor="#F2F2F2"><tt>&#39;subsize&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>numeric vector containing the subset size with length
                  equal to the number of columns of matrix residuals If
                  it is not specified it will be set equal to
                  size(residuals,1)-size(residuals,2)+1:size(residuals,1) </p>
		</td>
	</tr>
			<tr>
		<td bgcolor="#F2F2F2" style="height: 54px"><tt>&#39;selline&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 54px">
		<p>numeric vector of length 1 or 2 which specifies the
                  lines to highlight. <br>If length(selline)=1 only the lines
                  associated with the units which had in at least one
                  step of the search a residual greater (in absolute
                  value) than selline will be highlighted on the screen.
                  <br>If length(selline)=2 only the lines associated with the
                  units which, in at least one step of the search had a
                  residual smaller than selline(1) or greater than
                  selline(2) will be highlighted on the screen. The units
                  which are not highlighted are plotted with a faint grey
                  color in background position. <br>If nothing is specified
                  the default is to highlight all units if n<=100. If
                  n>100 only the units which have in at least one step of
                  the search a value of the scaled residual greater than
                  2.5 in absolute value will be highlighted</p>
		</td>
			</tr>
			<tr>
		<td bgcolor="#F2F2F2" style="height: 54px"><tt>&#39;unselline&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 54px">
		<p>Specifies how the trajectories of the leverage are
                  represented when they are not selected.
                  'faint': the trajectories associated with smaller
                  residual take colors towards cyan, those with bigger
                  residual take colors towards blue. 
                  'hide': the trajectories with residual below a certain
                  threshold are hidden.
                  'greysh': the trajectories with residual below a
                  certain threshold are displayed in a faint grey.  
                  The default option when n>100 is 'faint' else when
        n<=100 the default option is ''    
		</p>
		</td>
			</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 54px"><tt>&#39;selunit&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 54px">
		<p>Cell array of strings, string or numeric vector.
                  If it is a cell array of strings only the lines
                  associated with the units which, in at least one step
                  of the search had a residual smaller than selunit{1} or
                  greater than selline{2} will have a textbox. If it is a
                  string it specifies the threshold above which labels
                  have to be put. For example selunit='2.6' means that
                  the text labels are written only for the units which
                  have in at least one step of the search a value of the
                  scaled residual greater than 2.6 in absolute value If
                  it is a numeric vector it contains the list of the
                  units for which it is necessary to put the text labels.
                  The default value of selunit is string '2.5'.</p>
		</td>
	</tr>
	<tr valign="top">
		<td bgcolor="#F2F2F2" style="height: 54px"><tt>&#39;selunitbold&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 54px">
		<p>Scalar specifying line width for the units selected in
                  vector selunit. Default is ''</p>
		</td>
	</tr>
			<tr>
		<td bgcolor="#F2F2F2" style="height: 54px"><tt>&#39;selunitcolor&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 54px">
		<p>cell containing the colors to be used for the
                  trajectories associated with the units in selunit If
                  length(selunitcolor)==1 the same color will be used for
                  all units in vector selunit <br>Remark: if for example
                  length(selunitcolor)==2 and length(selunit)=6 the 3
                  highlighted trajectories which appear with
                  selunitcolor{1} and 3 highlighted trajectories with
                  selunitcolor{2}</p>
		</td>
			</tr>
			<tr>
		<td bgcolor="#F2F2F2" style="height: 54px"><tt>&#39;mark&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 54px">
		<p>scalar controlling whether to plot lines as markers.
                  if 1 each line is plotted using a different marker else
                  no marker is used (default)</p>
		</td>
			</tr>
			<tr>
		<td bgcolor="#F2F2F2" style="height: 54px"><tt>&#39;xlim&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 54px">
		<p>Vector with two elements controlling minimum and
                  maximum on the x axis. Default value is '' (automatic
                  scale).</p>
		</td>
			</tr>
			<tr>
		<td bgcolor="#F2F2F2" style="height: 54px"><tt>&#39;ylim&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 54px">
		<p>Vector with two elements controlling minimum and
                  maximum on the y axis. Default value is '' (automatic
                  scale)</p>
		</td>
			</tr>
			<tr>
		<td bgcolor="#F2F2F2" style="height: 54px"><tt>&#39;tag&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 54px">
		<p>String which identifies the handle of the plot which
                  is about to be created. The default is to use tag
                  'pl_levfwd'. Notice that if the program finds a plot which
                  has a tag equal to the one specified by the user, then
                  the output of the new plot overwrites the existing one
                  in the same window else a new window is created</p>
		</td>
			</tr>
			<tr>
		<td bgcolor="#F2F2F2" style="height: 54px"><tt>&#39;datatooltip&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 54px">
		<p>Empty value or structure. The default is datatooltip=''
                  If datatooltip is not empty the user can use the mouse
                  in order to have information about the unit selected,
                  the step in which the unit enters the search and the
                  associated label If datatooltip is a structure, it is
                  possible to control the aspect of the data cursor (see
                  function datacursormode for more details or the
                  examples below). The default options of the structure
                  are DisplayStyle='Window' and SnapToDataVertex='on'</p>
		</td>
			</tr>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;label&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		  Cell containing the labels of the units (optional
              argument used when <tt>datatooltip=1</tt>. If this field is not
              present labels row1, ..., rown will be automatically
              created and included in the pop up <tt>datatooltip</tt> window)
              </td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;databrush&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>The core of this option is <tt>selectdataFS</tt>, a function used by 
		all graphic tools of the FSDA toolbox. A separate 
		common page details all <a href="databrushoption.html"><tt>databrush</tt> options</a>. </p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 32px"><tt>&#39;nameX&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 32px">
		<p>cell array of strings of length <em>p</em> containing the labels
                  of the variables of the regression dataset. If it is empty
                	(default) the sequence <em>X</em><sub>1</sub>, ..., <em>X</em><sub>p</sub> will be created
                  automatically..</p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 32px"><tt>&#39;namey&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 32px">
		character containing the label of the response.</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;titl&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		A label for the title (default: &#39;&#39;).</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;labx&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		A label for the x-axis (default: &#39;Subset size m&#39;)</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 32px"><tt>&#39;laby&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 32px">
		A label for the y-axis (default: &#39;Leverage&#39;).</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;lwd&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		Scalar which controls line width of the curves which contain the score 
		test. Default line width=1.1. 
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 32px"><tt>&#39;FontSize&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 32px">
		Scalar which controls the font size of the labels of the axes. Default 
		value is 12.</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 32px"><tt>&#39;SizeAxesNum&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 32px">
		Scalar which controls the size of the numbers of the axes. Default value 
		is 10.</td>
	</tr>
	</table>
<p></p>
<a name="bq9x7hn"></a><a name="bq5gf2y"></a>
<h3>Examples</h3>


<h3>Example 1</h3>
<p>In this example we construct the monitoring leverage plot for the stack loss data</p>
<pre class="programlisting">
load('stack_loss.txt');
y=stack_loss(:,4);
X=stack_loss(:,1:3);
[out]=LXS(y,X,'nsamp',0);
[out1]=FSReda(y,X,out.bs,'init',5);
% Plot monitoring of leverage
levfwdplot
(out1,'selunit','0.4')
</pre>

<p>

<img src="plots/levplot.gif"></p>
&nbsp;<h3>See Also</h3>

<p><a href="fsreda.html"><tt>FSReda</tt></a>, <a href="resfwdplot.html"><tt>resfwdplot</tt></a>,
<a href="malfwdplot.html"><tt>malfwdplot</tt>
</p>

<p></p>
<table border="0" cellpadding="0" cellspacing="0" class="nav" summary="Navigation aid" width="100%">
	<tr valign="top">
		<td align="left" width="20"><a href="hyppsider.html">
		<img align="bottom" alt="" border="0" src="images_help/b_prev.gif"></a>
		</td>
		<td align="left">hyppsider.html</td>
		<td>&nbsp;</td>
		<td align="right">lexunrank.html</td>
		<td align="right" width="20"><a href="lexunrank.html">
		<img align="bottom" alt="LXS" border="0" src="images_help/b_next.gif"></a></td>
	</tr>
</table>
<script type ="text/javascript" language="javaScript">
document.write(barra);
</script>
<!-- Last updated: Fri Jan 23 17:00:05 EST 2009-->




</body>

</html>
