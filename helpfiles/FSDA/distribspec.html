<!DOCTYPE HTML> <html itemscope="" xmlns="http://www.w3.org/1999/xhtml"><head><title>distribspec</title><meta content="refpage" name="chunktype"><meta content="function:distribspec" itemprop="refentity" name="refentity"><meta content="text/javascript" http-equiv="Content-Script-Type"><meta content="fcn" itemprop="pagetype" name="toctype"><meta content="ref/function" itemprop="infotype" name="infotype" /><meta content="distribspec plots a probability density function between specification limits." itemprop="description" name="description" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" /><script type="text/x-mathjax-config">MathJax.Hub.Config({extensions: ["tex2jax.js"],jax: ["input/TeX","output/HTML-CSS"],menuSettings: {zoom: "Double-Click", zscale: "300"},tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},MathMenu: {showRenderer: false},"HTML-CSS": {availableFonts: ["TeX"],preferredFont: "TeX",imageFont: null}});</script><script type="text/javascript" src="includesFS/Mathjax/MathJax.js"></script><script src="includesFS/matlab-highlighter.min.js"></script><link href="includesFS/matlab-highlighter.css" rel="stylesheet" type="text/css"><script type="text/javascript" src="includesFS/jquery-latest.js"></script><script>$(document).ready(function(){      $("#divtop").load("includesFS/top.html");      $("#divbottom").load("includesFS/bottom.html");});</script><link href="../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css"></link><link href="../includes/product/css/site6.css" rel="stylesheet" type="text/css"></link><link href="../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)"></link><link href="../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)"></link><link href="../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)"></link><link href="../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)"></link><link href="../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)"></link><link href="../includes/product/css/site6_offcanvas.css" rel="stylesheet" type="text/css"></link><script src="../includes/shared/scripts/l10n.js" type="text/javascript"></script><script src="../includes/product/scripts/docscripts.js"></script><script src="../includes/shared/scripts/docscripts_rn.js"></script><script src="../includes/shared/scripts/mw.imageanimation.js" type="text/javascript"></script><script src="../includes/shared/scripts/jquery.highlight.js"></script><script src="../includes/product/scripts/bootstrap.min.js" type="text/javascript"></script><script src="../includes/product/scripts/global.js"></script><script src="includesFS/bottom.js" type="text/javascript"></script><script src="../includes/product/scripts/underscore-min.js"></script><script src="../includes/shared/scripts/f1help.js" type="text/javascript"></script><script src="../includes/product/scripts/suggest.js" type="text/javascript"></script><script src="../includes/shared/scripts/helpservices.js" type="text/javascript"></script><script src="../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script><!-- the following line should be kept this way only --><link href="includesFS/doc_center.css" rel="stylesheet" type="text/css"></link><link href="../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css"><link href="../includes/product/css/doc_center_print.css" media="print" rel="stylesheet" type="text/css"></head><body  onload="highlightMATLABCode();" id="responsive_offcanvas">  <div id="doc_header_spacer" class="header"></div><div class="sticky_header_container includes_subnav"><div class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-xs-12 col-sm-6 col-sm-push-6 col-md-5 col-md-push-7" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2017a" data-language="en" action="../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="sr-only">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"><div class="input-group-btn"><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search pull-right icon_32 visible-xs" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="col-sm-6 col-sm-pull-6 col-md-7 col-md-pull-5" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../documentation-center.html">Documentation</a></h1></div></div></div><div class="visible-xs" id="search_actuator"><button class="btn icon-search btn_search pull-right icon_16" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div><!--END.CLASS row--> </div><!--END.CLASS container-fluid--> </div><!--END.CLASS section_header level_3--><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_actuator" data-toggle="offcanvas" data-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="sr-only">Toggle navigation</span><span class="icon-menu icon_24"></span></button><span class="offcanvas_actuator_label"></span><span class="offcanvas_actuator_close"></span> </div><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-md-12 hidden-xs hidden-sm"></div></div></div></div></div></div></div><!--END.CLASS sticky_header_container--><div class="row-offcanvas row-offcanvas-left"><div id="sidebar" class="sidebar-offcanvas" role="navigation"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" xmlns:atict="http://www.arbortext.com/namespace/atict"><li itemprop="breadcrumb" itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb"> <a href="../documentation-center.html" itemprop="url"> <span itemprop="title">All Products</span></a></li></ul><ul class="nav_disambiguation" xmlns:atict="http://www.arbortext.com/namespace/atict"><li class="product"><a href="index.html">Flexible Statistics and Data Analysis (FSDA)</a><div class="dropdown"> <span id="dropdownMenu1" class="icon-arrow-down icon_16" data-toggle="dropdown"> </span><ul aria-labelledby="dropdownMenu1" class="dropdown-menu dropdown-menu-right" role="menu"><li role="presentation"> <a href="examples.html" role="menuitem" tabindex="-1">Examples</a></li><li role="presentation"> <a href="function-alpha.html" role="menuitem" tabindex="-1"> Functions and Other Reference</a></li><li role="presentation"> <a href="release_notes.html?s_cid=doc_flyout" role="menuitem" tabindex="-1"> Release Notes</a></li><li role="presentation"> <a href="tutorials.html" role="menuitem" tabindex="-1"> Tutorials</a></li></ul></div></li></ul><ul xmlns:atict="http://www.arbortext.com/namespace/atict" class="nav_disambiguation"> <li><a href="index.html">Flexible Statistics and Data Analysis Toolbox</a> </li> <li><a href="function-cate.html" itemprop="url">Functions</a></li></ul><!-- --><ul class="nav_scrollspy nav" xmlns:atict="http://www.arbortext.com/namespace/atict">  <li class="nav_scrollspy_function"> <a href="#responsive_offcanvas">distribspec</a></li> <li id="SSPY810-refentry" class="nav_scrollspy_title">On this page</li><li><a class="intrnllnk" href="#syntax">Syntax</a></li><li><a class="intrnllnk" href="#Description">Description</a></li><li><a class="intrnllnk" href="#Examples">Examples</a><ul><li><a class="intrnllnk" href="#Example_1">Use with makedist, default settings.</a></li><li><a class="intrnllnk" href="#Example_2">Use with makedist, region inside.</a></li><li><a class="intrnllnk" href="#Example_3">Use with makedist, region outside.</a></li></ul></li><li><a class="intrnllnk" href="#ExtraExamples">Extra Examples</a><ul><li><a class="intrnllnk" href="#ExtraExample_1">Use with makedist, specs with inf.</a></li><li><a class="intrnllnk" href="#ExtraExample_2">Use with makedist, specs with -inf.</a></li><li><a class="intrnllnk" href="#ExtraExample_3">Use with makedist, no specs.</a></li><li><a class="intrnllnk" href="#ExtraExample_4">Use with makedist, specs outside support.</a></li><li><a class="intrnllnk" href="#ExtraExample_5">Use with makedist, using userColor.</a></li><li><a class="intrnllnk" href="#ExtraExample_6">Use with makedist, using userColor for each outside region.</a></li><li><a class="intrnllnk" href="#ExtraExample_7">Use with makedist, using userColor with RGB triplet.</a></li><li><a class="intrnllnk" href="#ExtraExample_8">Use with distname.</a></li><li><a class="intrnllnk" href="#ExtraExample_9">Use with a sample only.</a></li><li><a class="intrnllnk" href="#ExtraExample_10">Sample from non-parametric used-defined distribution.</a></li><li><a class="intrnllnk" href="#ExtraExample_11">Sample from parametric used-defined distribution.</a></li><li><a class="intrnllnk" href="#ExtraExample_12">User-defined function, with reduced number of evaluation points.</a></li><li><a class="intrnllnk" href="#ExtraExample_13">User-defined function starting from a default matlab distribution.</a></li></ul></li><li><a class="intrnllnk" href="#Inputs">Input Arguments</a><ul><li><a class="intrnllnk" href="#input_argument_pd">pd</a></li><li><a class="intrnllnk" href="#input_argument_specs">specs</a></li><li><a class="intrnllnk" href="#input_argument_region">region</a></li></ul></li><li><a class="intrnllnk" href="#NameValuePairs">Name-Value Pair Arguments</a><ul><li><a class="intrnllnk" href="#input_argument_namevalue_userColor">userColor</a></li><li><a class="intrnllnk" href="#input_argument_namevalue_evalPoints">evalPoints</a></li></ul></li><li><a class="intrnllnk" href="#OutputArgs">Output Arguments</a><ul><li><a class="intrnllnk" href="#output_argument_p">p</a></li><li><a class="intrnllnk" href="#output_argument_h">h</a></li></ul></li><li><a class="intrnllnk" href="#MoreAbout">More About</a></li><li><a class="intrnllnk" href="#References">References</a></li><li><a class="intrnllnk" href="#SeeAlso">See Also</a></li></ul></nav><script src="../includes/product/scripts/offcanvas.js"></script></div><div id="divtop"></div><div class="site_container site_toc_closed"><div class="page_container"><div class="content_frame"><div id="content_container" class="content_container"><section id="doc_center_content"><div class="function_ref"><div itemprop="content"><h1 itemprop="title">distribspec</h1><div class="doc_topic_desc"><div class="purpose_container"><p itemprop="purpose">distribspec plots a probability density function between specification limits</p><div class="switch"><a id="expandAllPage" href="javascript:void(0);">expand all in page</a></div></div></div></div><div class="ref_sect"><h2 id="syntax">Syntax</h2><div class="syntax_signature"><div class="syntax_signature_module"><ul><li><code class="synopsis">p=distribspec(pd, specs, region)</code><span class="syntax_example"><a class="intrnllnk" href="distribspec.html#Example_1">example</a></span></li><li><code class="synopsis">p=distribspec(pd, specs, region,Name,Value)</code><span class="syntax_example"><a class="intrnllnk" href="distribspec.html#Example_2">example</a></span></li><li><code class="synopsis">[p, h]=distribspec(___)</code><span class="syntax_example"><a class="intrnllnk" href="distribspec.html#Example_3">example</a></span></li></ul></div></div></div>	<div class="ref_sect" itemprop="content">							<h2 id="Description">Description</h2>							<div class="descriptions">								<div class="description_module"><p>distribspec generalises the MATLAB function <a href="normspec.html">normspec</a> for plotting a
    selected probability density function by shading the portion inside or
    outside given limits.</p><div class="description_element">	<p class="syntax_example">	<a class="intrnllnk" href="distribspec.html#Example_1">	example</a></p>	<p><span itemprop="syntax"><code><a class="intrnllnk" href="#outputarg_p"><code>p</code></a>=distribspec(<a class="intrnllnk" href="#inputarg_pd"><code>pd</code></a>,<a class="intrnllnk" href="#inputarg_specs"><code>specs</code></a>,<a class="intrnllnk" href="#inputarg_region"><code> region</code></a>)</code></span>Use with makedist, default settings.</p></div><div class="description_element">	<p class="syntax_example">	<a class="intrnllnk" href="distribspec.html#Example_2">	example</a></p>	<p><span itemprop="syntax"><code><a class="intrnllnk" href="#outputarg_p"><code>p</code></a>=distribspec(<a class="intrnllnk" href="#inputarg_pd"><code>pd</code></a>,<a class="intrnllnk" href="#inputarg_specs"><code>specs</code></a>,<a class="intrnllnk" href="#inputarg_region"><code>region</code></a>,<a class="intrnllnk" href="#namevaluepairarguments"><code>Name, Value</code></a>)</code></span>Use with makedist, region inside.</p></div><div class="description_element">	<p class="syntax_example">	<a class="intrnllnk" href="distribspec.html#Example_3">	example</a></p>	<p><span itemprop="syntax"><code>[<a class="intrnllnk" href="#outputarg_p"><code>p</code></a>,<a class="intrnllnk" href="#outputarg_h"><code> h</code></a>]=distribspec(___)</code></span>Use with makedist, region outside.</p></div>								</div>							</div>							<div class="clear">							</div>						</div><div class="ref_sect" itemprop="content"><div class="examples"><h2 id="Examples">Examples</h2><div id="expandableExamples" class="expandableContent"><p class="switch"><a class="expandAllLink"href="javascript:void(0);">expand all</a></p><div id="example_1" class="example_module expandableContent"><div id="Example_1"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"> <li>Use with makedist, default settings.</li></span></a></span></h3><div class="collapse"><p>
     A standard normal distribution in [-1 1].<div class="programlisting"><div class="codeinput"><pre class="matlab-code">pd     = makedist('Normal');
specs  = [-1 1];
region = 'inside';
[p, h] = distribspec(pd, specs, region);
pause(0.5);</pre></div></div></p></div></div><div id="example_2" class="example_module expandableContent"><div id="Example_2"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"> <li><img alt="" src="images_help/M.gif" style="width: 12px; height: 12px"> Use with makedist, region inside.</li></span></a></span></h3><div class="collapse"><p>
     A Gamma with parameter values a = 3 and b = 1, in [2 3].<div class="programlisting"><div class="codeinput"><pre class="matlab-code">close all
pd = makedist('Gamma','a',3,'b',1);
specs  = [2 3];
region = 'inside';
[p, h] = distribspec(pd, specs, region);
pause(0.5);</pre></div></div><a href='http://rosa.unipr.it/fsda/distribspec.html#Example_2'><img vspace="5" hspace="5" src="images\distribspec_01.png" alt="Click here for the graphical output of this example (link to Ro.S.A. website)."> </a></p></div></div><div id="example_3" class="example_module expandableContent"><div id="Example_3"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"> <li>Use with makedist, region outside.</li></span></a></span></h3><div class="collapse"><p>
     A Beta with parameter values a = 2 and b = 4, outside [0.2 0.4].<div class="programlisting"><div class="codeinput"><pre class="matlab-code">close all
pd = makedist('Beta','a',2,'b',4);
specs  = [0.2 0.4];
region = 'outside';
[p, h] = distribspec(pd, specs, region);
pause(0.5);</pre></div></div></p></div></div></div><p> </p><div class="examples"><h2 id="ExtraExamples" class="bottom_ruled">Related Examples</h2><div id="expandableExamples" class="expandableContent"><p class="switch"><a class="expandAllLink"href="javascript:void(0);">expand all</a></p><div id="Extraexample_1" class="example_module expandableContent"><div id="ExtraExample_1"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"><li>Use with makedist, specs with inf.</li></span></a></span></h3><div class="collapse"><p>
     A Beta with parameter values a = 2 and b = 4, in [0.4 inf].<div class="programlisting"><div class="codeinput"><pre class="matlab-code">close all
pd = makedist('Beta','a',2,'b',4);
specs  = [0.4 inf];
region = 'inside';
[p, h] = distribspec(pd, specs, region);
pause(0.5);</pre></div></div></p></div></div><div id="Extraexample_2" class="example_module expandableContent"><div id="ExtraExample_2"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"><li>Use with makedist, specs with -inf.</li></span></a></span></h3><div class="collapse"><p><div class="programlisting"><div class="codeinput"><pre class="matlab-code">% A Gamma with parameter values a = 3 and b = 1, up to 2.
close all
pd = makedist('Gamma','a',3,'b',1);
specs  = [-inf 2];
region = 'inside';
[p, h] = distribspec(pd, specs, region);
% Without specification of region the default is inside, therefore,
% the output is identical
pd = makedist('Gamma','a',3,'b',1);
specs  = [-inf 2];
[p, h] = distribspec(pd, specs);
cascade;
pause(0.5);</pre></div></div></p></div></div><div id="Extraexample_3" class="example_module expandableContent"><div id="ExtraExample_3"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"><li>Use with makedist, no specs.</li></span></a></span></h3><div class="collapse"><p>
     A Gamma as above, without specification of specs: returns an error.<div class="programlisting"><div class="codeinput"><pre class="matlab-code">close all
pd = makedist('Gamma','a',3,'b',1);
region = 'inside';
try
[p, h] = distribspec(pd, [], region);
catch
disp(sprintf('%s\n\n%s\n%s',...
'Without specification of specs, distribspec returned this error:' , ...
'Error using distribspec' , ...
'Please provide valid lower and upper limits for the area to highlight'));
end
pause(0.5);</pre></div></div></p></div></div><div id="Extraexample_4" class="example_module expandableContent"><div id="ExtraExample_4"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"><li>Use with makedist, specs outside support.</li></span></a></span></h3><div class="collapse"><p>
     A Gamma with parameter values a = 3 and b = 1, up to -1. 
     Nothing is colored.<div class="programlisting"><div class="codeinput"><pre class="matlab-code">close all
pd = makedist('Gamma','a',3,'b',1);
specs  = [-inf -1];
region = 'inside';
[p, h] = distribspec(pd, specs, region);
pause(0.5);</pre></div></div></p></div></div><div id="Extraexample_5" class="example_module expandableContent"><div id="ExtraExample_5"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"><li>Use with makedist, using userColor.</li></span></a></span></h3><div class="collapse"><p><div class="programlisting"><div class="codeinput"><pre class="matlab-code">% A Gamma as above, using userColor with standard one-character
% specification.
close all
pd = makedist('Gamma','a',3,'b',1);
specs  = [-inf 2];
region = 'inside';
[p, h] = distribspec(pd, specs, region, 'userColor','r');
% same, but using userColor with RGB triplet specification.
pd = makedist('Gamma','a',3,'b',1);
specs  = [-inf 2];
region = 'inside';
[p, h] = distribspec(pd, specs, region, 'userColor',[1 0.5 0.5]);
cascade;
pause(0.5);</pre></div></div></p></div></div><div id="Extraexample_6" class="example_module expandableContent"><div id="ExtraExample_6"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"><li><img alt="" src="images_help/M.gif" style="width: 12px; height: 12px"> Use with makedist, using userColor for each outside region.</li></span></a></span></h3><div class="collapse"><p><div class="programlisting"><div class="codeinput"><pre class="matlab-code">close all
rng('default')
pd = makedist('HalfNormal','mu',0,'sigma',1.5);
specs  = [1 3];
region = 'outside';
useColor = 'cg';
[p, h] = distribspec(pd, specs, region, 'userColor', useColor);
useColor = [1 0.5 0.5 ; 0.5 0.8 0.3];
[p, h] = distribspec(pd, specs, region, 'userColor', useColor);
cascade;
pause(0.5);</pre></div></div><a href='http://rosa.unipr.it/fsda/distribspec.html#ExtraExample_6'><img vspace="5" hspace="5" src="images\distribspec_02.png" alt="Click here for the graphical output of this example (link to Ro.S.A. website)"> <img vspace="5" hspace="5" src="images\distribspec_03.png" alt=""> </a></p></div></div><div id="Extraexample_7" class="example_module expandableContent"><div id="ExtraExample_7"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"><li>Use with makedist, using userColor with RGB triplet.</li></span></a></span></h3><div class="collapse"><p> <div class="programlisting"><div class="codeinput"><pre class="matlab-code">% A Half Normal using userColor with RGB triplet specification.
% The triplet is returned by FSColors.
close all
pd = makedist('HalfNormal','mu',0,'sigma',1.5);
specs  = [-inf 1];
region = 'inside';
RGB_vector = FSColors.lightgrey.RGB;
[p, h] = distribspec(pd, specs, region, 'userColor',RGB_vector);
pause(0.5);</pre></div></div></p></div></div><div id="Extraexample_8" class="example_module expandableContent"><div id="ExtraExample_8"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"><li><img alt="" src="images_help/M.gif" style="width: 12px; height: 12px"> Use with distname.</li></span></a></span></h3><div class="collapse"><p> <div class="programlisting"><div class="codeinput"><pre class="matlab-code">% A sample of n=100 elements extracted from a Nakagami.
close all
rng(12345);
distname    = 'Nakagami';
x           = random(distname,0.5,1,[100,1]);
pd          = struct;
pd.x        = x;
pd.distname = distname;
specs  = [-inf 1];
region = 'inside';
[p, h] = distribspec(pd, specs, region);
pause(0.5);</pre></div></div><a href='http://rosa.unipr.it/fsda/distribspec.html#ExtraExample_8'><img vspace="5" hspace="5" src="images\distribspec_04.png" alt="Click here for the graphical output of this example (link to Ro.S.A. website)"> </a></p></div></div><div id="Extraexample_9" class="example_module expandableContent"><div id="ExtraExample_9"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"><li><img alt="" src="images_help/M.gif" style="width: 12px; height: 12px"> Use with a sample only.</li></span></a></span></h3><div class="collapse"><p> <div class="programlisting"><div class="codeinput"><pre class="matlab-code">% A sample of n=100 elements extracted from a T(5) without distname.
close all
rng(12345);
x      = random('T',5,[100,1]);
specs  = [-inf 1.5];
region = 'inside';
[p, h] = distribspec(x, specs, region);
pause(0.5);</pre></div></div><a href='http://rosa.unipr.it/fsda/distribspec.html#ExtraExample_9'><img vspace="5" hspace="5" src="images\distribspec_05.png" alt="Click here for the graphical output of this example (link to Ro.S.A. website)"> </a></p></div></div><div id="Extraexample_10" class="example_module expandableContent"><div id="ExtraExample_10"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"><li>Sample from non-parametric used-defined distribution.</li></span></a></span></h3><div class="collapse"><p><div class="programlisting"><div class="codeinput"><pre class="matlab-code">close all
% Data from user-defined distribution, Benford (non-parametric)
% no parameters to estimate
userpdf = @(n) log10(1 + 1./n);
usercdf = @(n) log10(1 + n);
% random sample from Benford
n = 5000;
u = rand(n,1);
X = 10.^u;
% Apply distribspec with userpdf
specs  = [-inf 5];
region = 'inside';
pd          = struct;
pd.x        = X;
pd.distname = 'user';
pd.userpdf  = userpdf;
[p, h] = distribspec(pd, specs, region);   
pause(0.5);</pre></div></div></p></div></div><div id="Extraexample_11" class="example_module expandableContent"><div id="ExtraExample_11"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"><li><img alt="" src="images_help/M.gif" style="width: 12px; height: 12px"> Sample from parametric used-defined distribution.</li></span></a></span></h3><div class="collapse"><p><div class="programlisting"><div class="codeinput"><pre class="matlab-code">% Data from user-defined distribution, negative exponential with one parameter 
close all
lambda = 5;
userpdf = @(data,lambda) lambda*exp(-lambda*data);
usercdf = @(data,lambda) 1-exp(-lambda*data);
rng(12345);
n = 500;
X = zeros(n,1);
u = rand(n,1);
for i = 1:numel(u)
fun  = @(x)integral(@(x)userpdf(x,lambda),eps,x) - u(i);
X(i) = fzero(fun,0.5);
% The previous two lines have the solution below, but exemplify the
% approach for a generic function without closed formula.
% X(i) = -(1/lambda)*log(1-u(i)); % p. 211 Mood Graybill and Boes
end
%Estimate the parameter lambda of the custom distribution.
parhat = mle(X,'pdf',userpdf,'cdf',usercdf,'start',0.05);
% plot data as a normalised histogram and the mle of the pdf
histogram(X,100,'Normalization','pdf');
hold on
plot(X,userpdf(X,parhat),'.')
title({['The sample generated by ' char(userpdf)] , ['with $\lambda=$' num2str(lambda)]} , 'Interpreter' , 'Latex');
hold off
% Set common specs and region settings
specs  = [-inf 0.2];
region = 'inside';
% Use distribspec with both usercdf and userpdf
pd          = struct;
pd.x        = X;
pd.distname = 'user';
pd.usercdf  = usercdf;
pd.userpdf  = userpdf;
[p, h] = distribspec(pd, specs, region);
% now with userpdf
pd          = struct;
pd.x        = X;
pd.distname = 'user';
pd.userpdf  = userpdf;
[p, h] = distribspec(pd, specs, region);
% and now with usercdf
pd          = struct;
pd.x        = X;
pd.distname = 'user';
pd.usercdf  = usercdf;
[p, h] = distribspec(pd, specs, region);
cascade;
pause(0.5);</pre></div></div><a href='http://rosa.unipr.it/fsda/distribspec.html#ExtraExample_11'><img vspace="5" hspace="5" src="images\distribspec_06.png" alt="Click here for the graphical output of this example (link to Ro.S.A. website)"> <img vspace="5" hspace="5" src="images\distribspec_07.png" alt=""> <img vspace="5" hspace="5" src="images\distribspec_08.png" alt=""> <img vspace="5" hspace="5" src="images\distribspec_09.png" alt=""> </a></p></div></div><div id="Extraexample_12" class="example_module expandableContent"><div id="ExtraExample_12"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"><li><img alt="" src="images_help/M.gif" style="width: 12px; height: 12px"> User-defined function, with reduced number of evaluation points.</li></span></a></span></h3><div class="collapse"><p><div class="programlisting"><div class="codeinput"><pre class="matlab-code">% Data from user-defined distribution: Pareto (two parameters). This
% takes a while to complete, because of difficult integration (the
% function has singularities). Therefore, we reduce the ealuation
% points only to 50. In this case, being the function very smooth in
% the region of interest, the quality is not affected.
close all
alpha0  = 2; 
xm0     = 4;
% data
rng(12345);
n = 500;
X = zeros(n,1);
u = rand(n,1);
for i = 1:numel(u)
X(i) = alpha0*(1-u(i)).^(-1/xm0);
end
% heaviside function
hvsd = @(y) [0.5*(y == 0) + (y &gt; 0)];
userpdf0 = @(x) hvsd(x-xm0) .* (alpha0*4^alpha0) ./ (x.^(alpha0+1));
fplot(userpdf0);
xlim([-5 20]);
title({'Pareto distribution' , '$ hvsd(x-xm_{0}) \cdot (\alpha_{0} \cdot 4^{\alpha_{0}}) / (x^{\alpha_{0}+1})$' } , 'Interpreter','latex' , 'Fontsize' , 20);
pause(0.5);
userpdf = @(x, alpha) hvsd(x-4) .* ((alpha*4^alpha) ./ (x.^(alpha+1)));
%userpdf = @(x, alpha, xm) hvsd(x-xm) .* ((alpha*xm^alpha) ./ (x.^(alpha+1)));
%usercdf = @(x, alpha, xm) hvsd(x-xm) .* (1 - (xm./x).^alpha);
% Apply distribspec with userpdf
specs  = [5 10];
region = 'inside';
pd          = struct;
pd.x        = X;
pd.distname = 'user';
pd.userpdf  = userpdf;
pd.mleStart = mean(pd.x);
pd.mleLowerBound = pd.mleStart/2;
pd.mleUpperBound = pd.mleStart*2;
[p, h] = distribspec(pd, specs, region, 'evalPoints', 50);
cascade;
pause(0.5);</pre></div></div><pre class="codeoutput">Warning: Maximum likelihood estimation did not converge.  Function evaluation
limit exceeded. 
</pre><a href='http://rosa.unipr.it/fsda/distribspec.html#ExtraExample_12'><img vspace="5" hspace="5" src="images\distribspec_10.png" alt="Click here for the graphical output of this example (link to Ro.S.A. website)"> <img vspace="5" hspace="5" src="images\distribspec_11.png" alt=""> </a></p></div></div><div id="Extraexample_13" class="example_module expandableContent"><div id="ExtraExample_13"></div><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="example_title"><li><img alt="" src="images_help/M.gif" style="width: 12px; height: 12px"> User-defined function starting from a default matlab distribution.</li></span></a></span></h3><div class="collapse"><p><div class="programlisting"><div class="codeinput"><pre class="matlab-code">% Here the user takes one of the functions in makedist, possibly
% changing the number of parameters.
close all
alpha0  = 2; 
xm0     = 4;
X = wblrnd(1,1,[1000,1]) + 10;
histogram(X,'Normalization','pdf');
title({'A sample from the weibull' , '$a=1, b=1, c=10$'},'Fontsize',20,'Interpreter','latex');
% A Weibull distribution with an extra parameter c
userpdf = @(x,a,b,c) wblpdf(x-c,a,b);
% Apply distribspec with userpdf
specs  = [11 12];
region = 'inside';
pd          = struct;
pd.x        = X;
pd.distname = 'user';
pd.userpdf  = userpdf;
pd.mleStart = [5 5 5];
pd.mleLowerBound = [0 0 -Inf];
pd.mleUpperBound = [Inf Inf min(X)];
% MLE parameters. The scale and shape parameters must be positive,
% and the location parameter must be smaller than the minimum of the
% sample data.
[p, h] = distribspec(pd, specs, region, 'evalPoints', 100);
cascade
pause(0.5);</pre></div></div><pre class="codeoutput">Warning: Maximum likelihood estimation did not converge.  Iteration limit
exceeded. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
Warning: Inf or NaN value encountered. 
</pre><a href='http://rosa.unipr.it/fsda/distribspec.html#ExtraExample_13'><img vspace="5" hspace="5" src="images\distribspec_12.png" alt="Click here for the graphical output of this example (link to Ro.S.A. website)"> <img vspace="5" hspace="5" src="images\distribspec_13.png" alt=""> </a></p></div></div></div></div></div><div class="ref_sect" itemprop="content"><h2 id="Inputs">Input Arguments</h2><div class="expandableContent"><div class="arguments"><div class="input_argument_container"><p class="switch"><a class="expandAllLink" href="javascript:void(0);">expand all</a></p><div class="expandableContent"> <div id="inputarg_pd" class="clearfix"> </div> <h3 id="input_argument_pd" class="expand"> <span> <a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"> <span class="argument_name"><code>pd</code> &#8212; can be one of the following. </span>  </a><span class="example_desc">- A probability density object returned by makedist.</span></span></h3> <div class="collapse"> <p><p>- A structure containing two fields:
               (i) pd.distname, a character array with a valid distribution
               name (all those accepted by makedist);</p> <p>
               (ii) pd.x, a numeric vector containing the data sample
               to be used to estimate the parameters of the distribution.</p> <p>
             - A structure containing three fields with these features:
               (i)  pd.distname containing the character array 'user'.</p> <p>
               (ii) pd.userpdf containing a user defined function handle
                    expressing the probability density function;</p> <p>
               (iii) pd.usercdf containing a user defined function handle
                    expressing the cumulative density function;</p> <p>
               (iv) pd.x, a numeric vector containing the data sample
                    to be used to estimate the parameters of the
                    user-defined distribution. The estimation is done
                    by maximum likelihood using MATLAB function mle.</p> <p>
             - A numeric vector containg a sample used to fit a probability
               distribution object with nonparametric kernel-smoothing.</p> <p>             
             Other optional fields can be set to help improving the speed
             and quality of the results obtained for user-defined
             distributions.</p> <p>
             In particular, when a data sample is provided in pd.x, the  
             user can add to structue pd additional fields to control the
             estimation of the distribution parameters made by distribspec 
             using matlab function mle:
             - pd.mleStart, used as initial parameter values. The choice
               of the starting point is often crucial for the convergence
               of mle. If the initial parameter values are far from the
               true maximum likelihood estimate, we can obtain underflow 
               in the distribution functions and infinite loglikelihoods.</p> <p> 
               A reasonable choice for the initial value of a location
               parameter could be pd.mleStart = mean(pd.x). Similarily,
               for a scale parameter we could set pd.mleStart = std(pd.x).</p> <p>
             - pd.mleLowerBound, which indicates Lower bounds for
               distribution parameters. For example, if we trust
               pd.mleStart, we could set pd.mleLowerBound = pd.mleStart/2.</p><p>
             - pd.mleUpperBound, which indicates teh  Upper bounds for
               distribution parameters. Along the previous case, we could 
               set pd.mleUpperBound = pd.mleStart*2;</p></p> <p class="datatypelist"><strong> Data Types: </strong><code>single| double</code></p> </div> </div><div class="expandableContent"> <div id="inputarg_specs" class="clearfix"> </div> <h3 id="input_argument_specs" class="expand"> <span> <a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"> <span class="argument_name"><code>specs</code> &#8212; the lower and upper limits of the shading area. </span>  </a><span class="example_desc">Two element
             vector.</span></span></h3> <div class="collapse"> <p>If there is no lower limit, then specs(1)=-Inf. If
             there is no upper limit, then specs(2)=Inf.</p> <p class="datatypelist"><strong> Data Types: </strong><code>single| double</code></p> </div> </div><div class="expandableContent"> <div id="inputarg_region" class="clearfix"> </div> <h3 id="input_argument_region" class="expand"> <span> <a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"> <span class="argument_name"><code>region</code> &#8212; the region to shade. </span>  </a><span class="example_desc">Character array.</span></span></h3> <div class="collapse"> <p>It can be either the
             portion 'inside' or 'outside' of the spec limits.</p> <p class="datatypelist"><strong> Data Types: </strong><code>single| double</code></p> </div> </div><div id="namevaluepairarguments" class="clearfix"></div><h3 id="NameValuePairs" class="bottom_ruled">Name-Value Pair Arguments</h3><div class="namevaluecontainer"><p>Specify optional comma-separated pairs of <code>Name,Value</code> arguments. <code>Name</code> is the argument name and <code>Value</code> is the corresponding value. <code>Name</code> must appear  inside single quotes (<code>' '</code>).  You can specify several name and value pair arguments in any order as <code>  Name1,Value1,...,NameN,ValueN</code>.</p>  <span class="example_desc"><strong>Example:</strong><code><code></code>,<code></code></code></span></div><div class="expandableContent"><div id="inputarg_userColor" class="clearfix"></div><h3 id="input_argument_namevalue_userColor" class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="argument_name"><code>userColor</code> &#8212;The color of the shaded area.</span></a><span class="example_desc">character, 2-element                  character array, RGB triplet, 2-row RGB triplet.</span></span></h3><div class="collapse">	<p><p>The
                  character can be any of the LineSpec colors properties
                  of MATLAB plot funtion. The RGB triplet specification is
                  defined as usual, that is with three numbers taking
                  values in [0 1]: to generate the triplet, the user can
                  use FSDA function FSColors.</p> <p>
                   Example - 'userColor', 'r'
                   Data Types - character
                   Example - 'userColor', 'rb'
                   Data Types - 2-character array
                   Example - 'userColor', FSColors.lightgrey.RGB
                   Data Types - 3-element array for a RGB triplet
                   </p></p>	<p class="description_valueexample">       <strong>Example: </strong><code></code></p>	<p class="datatypelist"><strong>Data Types: </strong><code>character
                   Example - 'userColor', 'rb'
                   Data Types - 2-character array
                   Example - 'userColor', FSColors.lightgrey.RGB
                   Data Types - 3-element array for a RGB triplet
                   Example - 'userColor', [FSColors.lightgrey.RGB ; FSColors.grey.RGB]
                   Data Types - 2-row with RGB triplets</code></p></div></div><div class="expandableContent"><div id="inputarg_evalPoints" class="clearfix"></div><h3 id="input_argument_namevalue_evalPoints" class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="argument_name"><code>evalPoints</code> &#8212;Evaluation points.</span></a><span class="example_desc">scalar.</span></span></h3><div class="collapse">	<p><p>Number of points where the
                   the pdf is evaluated and plotted. Default is 1000. The
                   default is ok for most cases. However, when distribspec
                   appears too slow, try reducing the number of evaluation
                   points. If on the contrary the plot looks not
                   sufficiently smooth, increase the number of evaluation
                   points.</p> <p>
                   Example - 'evalPoints', 1
                   Data Types - scalar
                   </p></p>	<p class="description_valueexample">       <strong>Example: </strong><code></code></p>	<p class="datatypelist"><strong>Data Types: </strong><code>scalar
                   Example - 'evalPoints', [1.5 3.2]
                   Data Types - array</code></p></div></div></div></div></div></div><div class="ref_sect" itemprop="content"><h2 id="OutputArgs" >Output Arguments</h2><div class="expandableContent"><div class="arguments"><div class="output_argument_container"><p class="switch"><a class="expandAllLink" href="javascript:void(0);">expand all</a></p><div class="expandableContent"><div id="outputarg_p" class="clearfix"></div><h3 id="output_argument_p" class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="argument_name"><code>p</code> &#8212;Probability covered by the shaded area.</span></a><span class="example_desc">Scalar</span></span></h3><div class="collapse"><p> It is a value in [0 1].</p></div></div><div class="expandableContent"><div id="outputarg_h" class="clearfix"></div><h3 id="output_argument_h" class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span class="argument_name"><code>h</code> &#8212;Handle to the line objects.</span></a><span class="example_desc">Graphic object</span></span></h3><div class="collapse"><p> Graphic handle.</p></div></div></div></div></div></div><div class="moreabout ref_sect"><h2 id="MoreAbout">More About</h2><div class="expandableContent"><p class="switch"><a class="expandAllLink" href="javascript:void(0);">expand all</a></p><div class="expandableContent" itemprop="content"><h3 class="expand"><span><a href="javascript:void(0);" style="display: block;" title="Expand/Collapse"><span>Additional Details</span></a></span></h3><div class="expand"><p> <a href="https://www.mathworks.com/help/stats/fitting-custom-univariate-distributions-part-2.html">https://www.mathworks.com/help/stats/fitting-custom-univariate-distributions-part-2.html</a>
              

</p></div></div></div></div><div class="ref_sect" itemprop="content"><div class="bibliography"><h2 id="References">References</h2> </div></div><div class="ref_sect"><h2 id="SeeAlso">See Also</h2><p><span itemprop="seealso"><a href="matlab:web(fullfile(docroot,'stats/normspec.html'))" itemprop="url"><span itemprop="name"><code>normspec</code></span></a></span> | <span itemprop="seealso"><a href="matlab:web(fullfile(docroot,'stats/makedist.html'))" itemprop="url"><span itemprop="name"><code>makedist</code></span></a></span> | <span itemprop="seealso"><a href="matlab:web(fullfile(docroot,'stats/fitdist.html'))" itemprop="url"><span itemprop="name"><code>fitdist</code></span></a></span> | <span itemprop="seealso"><a href="matlab:web(fullfile(docroot,'FSDA/ScoreYJmle.html'))" itemprop="url"><span itemprop="name"><code>mle</code></span></a></span></div><i>This page has been automatically generated by our routine <a href="publishFS.html">publishFS</a></i></div></section></div></div></div></div><div id="divbottom"></div></body></html>