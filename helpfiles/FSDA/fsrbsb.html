<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<!--FScategory:Robust Regression Analysis and transformations-->



<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>FSRbsb :: Functions (Flexible Statistics Data Analysis Toolbox&trade;)</title>
<link href="docstyle.css" rel="stylesheet" type="text/css">
<meta content="refpage" name="chunktype">


<script  type="text/javascript" language="javaScript" src="bottom.js"></script>

</head>


<body>

<a name="top_of_page"></a>
<p style="font-size: 1px;">&nbsp;</p>
<table border="0" cellpadding="0" cellspacing="0" class="nav" summary="Navigation aid" width="100%">
	<tr>
		<td valign="baseline"><b>Flexible Statistics Data Analysis Toolbox&trade;</b></td>
		<td align="right" valign="baseline"><a href="fsrbonfbound.html">
		<img align="bottom" alt="FSRaddt" border="0" src="images_help/b_prev.gif"></a>&nbsp;&nbsp;
		<a href="fsrcore.html">
		<img align="bottom" alt="" border="0" src="images_help/b_next.gif"></a></td>
	</tr>
</table>
<a name="bq24of9-1"></a><a class="indexterm" name="zmw57dd0e69698"></a>
<h1 class="reftitle">FSRbsb</h1>
<p class="purpose">Units belonging to the subset in each step of the forward search
</p>
<h2>Syntax </h2>
<p class="synopsis"><tt>[out] = FSRbsb(y,X,bsb)<br>[out] = FSRbsb(y,X,bsb,<i>param1</i>,<i><tt>val1</tt></i>,<i><tt>param2</tt></i>,<i><tt>val2</tt></i>,...)<br>
</tt></p>
<a name="bq24of9-2"></a>
<h2>Description</h2>
<p><tt>[out] = FSRbsb(y,X,bsb)</tt> stores the information about the units 
which belong to the subset for each step. During the forward search in each step the subset
size is increased by one and the model refitted to the observations with the
smallest residuals for the increased subset size. Usually one observation
enters, but sometimes two or more enter the subset as one or more leave.
The process continues with increasing subset sizes until, finally, all the
data are fitted. As a result of this forward search we have an ordering of
the observations by closeness to the assumed model. This function provides detailed information about
the units belonging to the subset in each step.</p>
<p>
y is a vector of length n containing the response values
<br>X is the n-by-p matrix which contains (in the columns) the values of p predictive terms
<br>bsb is a vector containining the list of units forming the initial subset, if bsb=0 then the
procedure starts with p units randomly chosen
</p>

<p><tt><a name="bq24of9-3"></a>[out] = FSRbsb(y,X,bsb)</tt> returns the following 
information </p>
<ul type="disc">
	<li><tt>out</tt> &minus; A structure of additional statistics with the following fields.
	<ul type="circle">
		
		<li>
		<p><tt>Un</tt> &minus; (n-init) x 11 matrix which contains the unit(s) included 
		in the subset at each step of the fwd search. <br>REMARK: in every step 
		the new subset is compared with the old subset. Un contains the unit(s) 
		present in the new subset but not in the old one.<br>Un(1,2) for example 
		contains the unit included in step init+1.<br>...<br>Un(end,2) contains the units 
		included in the final step of the search.</p>
		</li>
		
		
		<li>
		<p><tt>BB</tt> &minus; n x (n-init+1) matrix containing the information about the units belonging
              to the subset at each step of the forward search. 
              <br>1st col = indexes of the units forming subset in the initial step 
              <br>... 
              <br>last column = units forming subset in the final step (all units)</p>
		</li>
		
		
		
		
		
	</ul>
	<ul>
		<a name="zmw57dd0e69798"></a>
		<table border="1" cellpadding="5" cellspacing="0" class="note" summary="Note">
			<tr width="90%">
				<td>
				<p><b>Note</b>&nbsp;&nbsp; <tt>FSRbsb</tt> automatically includes a 
				constant term in all models. Do not enter a column of 1s directly 
				into <tt>X</tt>.</p>
				</td>
			</tr>
		</table>
	</ul>
	</li>
</ul>
<p></p>
<p><tt>[out] = FSRbsb(y,X,bsb,<i><tt>param1</tt></i>,<i><tt>val1</tt></i>,<i><tt>param2</tt></i>,<i><tt>val2</tt></i>,...)</tt> 
specifies one or more of the name/value pairs described in the following table.</p>
<table border="2" cellpadding="4" cellspacing="0" class="body">
	<colgroup>
		<col width="21%"><col width="79%">
	</colgroup>
	<thead>
		<tr valign="top">
			<th bgcolor="#B2B2B2">Parameter</th>
			<th bgcolor="#B2B2B2">Value</th>
		</tr>
	</thead>
	<tr valign="top">
		<td bgcolor="#F2F2F2"><tt>&#39;intercept&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>If 1, a model with constant term will be fitted (default) else no constant 
		term will be included.  </p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 54px"><tt>&#39;init&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 54px">
		<p>scalar, which specifies the point where to initialize the search
              and start monitoring required diagnostics. Notice that if bsb
              is supplied init>=length(bsb). if init is not specified it will be set equal to
		<br><tt>p+1</tt>, if the sample size is smaller than 40; <br><tt>min(3*p+1,floor(0.5*(n+p+1)))</tt>, otherwise.</td>
	</tr>
	<tr valign="top">
		<td bgcolor="#F2F2F2"><tt>&#39;nocheck&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>Scalar. If nocheck is equal to 1 no check is performed on
              matrix y and matrix X. Notice that y and X are left
              unchanged. In other words the additional column of ones for
              the intercept is not added. As default nocheck=0. The
              controls on h, alpha and nsamp still remain</p>
		</td>
	</tr>
	</table>
<p></p>
<a name="bq9x7hn"></a><a name="bq5gf2y"></a>
<h3>Examples</h3>
Let us consider the two examples which have been introduced in function resfwdplot.html
100 observations and 
3 explanatory variables. In order to replicate the results let us consider a fixed seed.


<pre class="programlisting">
state=1000;
randn('state', state);
n=100;
X=randn(n,3);
bet=[3;4;5];
y=3*randn(n,1)+X*bet;
y(1:20)=y(1:20)+15;
[outLMS]=LXS(y,X);
bsb=outLMS.bs;
% Store in matrix BB the units belonging to subset in each step of the forward search
[Un,BB] = FSRbsb(y,X,bsb);
% Create the 'monitoring units plot'
figure;
seqr=[Un(1,1)-1; Un(:,1)];
plot(seqr,BB','bx');
xlabel('Subst size m');
ylabel('Monitoring units plot');
</pre>
<p>The plot given below, which moniotrs the units belonging to subset in each step of the forward search shows that apart from unit 
11 which enters the search in step m=78 all the other contaminated units enter 
the search in the last 19 steps </p>
<p><img src="plots/fsrbsb2.gif"></p>
<p>Now if we consider the second seed given in page fsr.html (state=500), we obtain the following figure; 
This plot shows that the 20 contaminated units enter the search in the final 20 
steps.
</p>
<img src="plots/fsrbsb1.gif">
<h3>See Also</h3>

<p><a href="fsreda.html"><tt>FSReda</tt></a></p>
<p></p>
<table border="0" cellpadding="0" cellspacing="0" class="nav" summary="Navigation aid" width="100%">
	<tr valign="top">
		<td align="left" width="20"><a href="fsrbonfbound.html">
		<img align="bottom" alt="FSRaddt" border="0" src="images_help/b_prev.gif"></a>
		</td>
		<td align="left">fsrbonfbound.html</td>
		<td>&nbsp;</td>
		<td align="right">fsrcore.html</td>
		<td align="right" width="20"><a href="fsrcore.html">
		<img align="bottom" alt="FSReda" border="0" src="images_help/b_next.gif"></a></td>
	</tr>
</table>
<script type ="text/javascript" language="javaScript">
document.write(barra);
</script>
<!-- Last updated: Fri Jan 23 17:00:05 EST 2009-->

</body>

</html>
