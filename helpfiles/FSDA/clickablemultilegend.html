<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<!--FScategory:Utilities-->

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>clickableMultiLegend :: Functions (Flexible Statistics Data Analysis Toolbox&trade;)</title>
<link href="docstyle.css" rel="stylesheet" type="text/css">
<meta content="refpage" name="chunktype">
<script  type="text/javascript" language="javaScript" src="bottom.js"></script>

</head>


<body>

<a name="top_of_page"></a>
<p style="font-size: 1px;">&nbsp;</p>
<table border="0" cellpadding="0" cellspacing="0" class="nav" summary="Navigation aid" width="100%">
	<tr>
		<td valign="baseline"><b>Flexible Statistics Data Analysis Toolbox&trade;</b></td>
		<td align="right" valign="baseline"><a href="chkoptions.html">
		<img align="bottom" alt="cdsplot" border="0" src="images_help/b_prev.gif"></a>&nbsp;&nbsp;
		<a href="closereqfs.html">
		<img align="bottom" alt="combs" border="0" src="images_help/b_next.gif"></a></td>
	</tr>
</table>
<a name="bq24of9-1"></a><a class="indexterm" name="zmw57dd0e69698"></a>
<h1 class="reftitle"><font class="highlight0">clickableMultiLegend</font></h1>
<p class="purpose">Hide or show symbols inside all subplots of a gplotmatrix (or 
similar multi-plot) clicking on the legend.</p>
<h2>Syntax</h2>
<p class="synopsis"><tt>clickableMultiLegend(varargin)</tt></p>
<p class="synopsis"><tt>[varargout]=clickableMultiLegend(varargin)</tt></p>
<a name="bq24of9-2"></a>
<h2>Description</h2>
<p><tt>clickableMultiLegend</tt> hides or shows a graphical object displayed in 
the different panels of the gplotmatrix when the user clicks on the associated entry 
in the legend. </p>
<ul type="disc">
	<table border="1" cellpadding="5" cellspacing="0" class="note" summary="Note">
		<tr width="90%">
			<td>
			<p><b>Note</b>&nbsp;&nbsp; This function extends <tt>clickableLegend</tt> 
			by Ameya Deoras downloadable from <br>
			<a href="http://www.mathworks.com/matlabcentral/fileexchange/21799">
			http://www.mathworks.com/matlabcentral/fx_files/21799/1/clickableLegend.m</a>.
			</p>
			<p>The extension to multiple plots is realized by looking for graphic 
			objects with the same DisplayName property of the one associated to 
			the legend label. Therefore, <tt>clickableMultiLegend</tt> can also 
			be used to turn on and off objects in subplots of different figures.</p>
			</td>
		</tr>
	</table>
</ul>
<p><tt>clickableMultiLegend</tt> accepts the same parameters of the
<a href="matlab:web(['jar:file:///',matlabroot,'/help/techdoc/help.jar!/ref/legend.html'],'-helpbrowser')">
<tt>legend</tt></a> function and can be used in the same way. </p>
<h3>Examples</h3>
<pre class="programlisting">
% Generate a plot with multiple subplots (e.g. a gplotmatrix).

% Simulate X
X = rand(100,4);
% Simulate y with 3 groups
y = [rand(10,1); rand(20,1)+1; rand(70,1)+2];
group= [2*ones(10,1); ones(20,1); zeros(70,1)];
[H,AX,bigax] = gplotmatrix(X,y,group);

% Set the DisplayName property (i.e. the texts of the legend) in all panels.
% Note that in the gplotmatrix only one legend is visible. 

set(H(:,:,1),&#39;DisplayName&#39;,&#39;group 1&#39;);
set(H(:,:,2),&#39;DisplayName&#39;,&#39;group 2&#39;);
set(H(:,:,3),&#39;DisplayName&#39;,&#39;group 3&#39;);
</pre>
By running the previous code you should obtain something similar to the following 
plot.<p>
<img src="plots/wporaydl.gif" width="90%" height="90%" >
</p>
<pre class="programlisting">

% Get the new legend texts directly from the plot
legnew = get(getappdata(AX(1,end),'LegendPeerHandle'),'String');

% Get the handles of the legend to update
hLines  = findobj(AX(1,end), 'type', 'line');

% Update the legend and make them clickable
clickableMultiLegend(sort(hLines), legnew{:});
</pre>
Now, it is possible to click with the 
mouse on the different entries to hide/show a particular group of units. For example, 
clicking on the entry &quot;group 2&quot; in the legend we hide group 2.

<img src="plots/wp8pagta.gif" width="90%" height="90%">

<p><p>
Function gplotmatrix generates the legend texts automatically, 
based on the values in the vector defined by option 'group'. 
In the example above we have re-defined manually the legend texts
set by option 'group' (which are '1', '2' and '3') as "group 1",
"group 2" and "group 3". More conveniently, especially when the number
of groups is not known in advance, one may re-define the legend texts
in a more general way as follows:

<pre class="programlisting">

% it is convenient to reshape the gplotmatrix handles array to make it 
% more manageable: while H is a 3-dimensional array with the third 
% dimension associated to the groups, newH is 2-dimensional with lines 
% associated to the subplots of the scatterplot and columns associated
% to the groups. 
nleg = numel(hLines);
newH = reshape(H,numel(H)/nleg,nleg);
% redefine the legend texts
for i = 1 : nleg 
    set(newH(:,i),'DisplayName',['Redefined group n. ' num2str(i)]);
end
</pre>

If the legend texts were clickable before the re-definition, they will
remain clickable.

&nbsp;<h3>See Also</h3>
<a href="matlab:web(['jar:file:///',matlabroot,'/help/techdoc/help.jar!/ref/legend.html'],'-helpbrowser')">
<tt>legend</tt></a>,
<a href="http://www.mathworks.com/matlabcentral/fileexchange/21799"><tt>clickableLegend</tt></a>,
<a href="yxplot.html"><tt>yXplot</tt></a>
<p></p>
<p></p>
<table border="0" cellpadding="0" cellspacing="0" class="nav" summary="Navigation aid" width="100%">
	<tr valign="top">
		<td align="left" width="20"><a href="chkoptions.html">
		<img align="bottom" alt="" border="0" src="images_help/b_prev.gif"></a>
		</td>
		<td align="left">chkoptions.html</td>
		<td>&nbsp;</td>
		<td align="right">closereqfs.html</td>
		<td align="right" width="20"><a href="closereqfs.html">
		<img align="bottom" alt="combs" border="0" src="images_help/b_next.gif"></a></td>
	</tr>
</table>
<script type ="text/javascript" language="javaScript">
document.write(barra);
</script>
<!-- Last updated: Fri Jan 23 17:00:05 EST 2009--></tt>

</body>

</html>
