<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<!--FScategory:Dynamic Statistical Visualization-->

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta content="en-gb" http-equiv="Content-Language">
<title>yXplot :: Functions (Flexible Statistics Data Analysis Toolbox&trade;)</title>
<link href="docstyle.css" rel="stylesheet" type="text/css">
<meta content="refpage" name="chunktype">
<meta content="DocBook XSL Stylesheets V1.52.2" name="generator">
<meta content="Visualizing relationships among variables" name="description">
<meta content="text/javascript" http-equiv="Content-Script-Type">
<script  type="text/javascript" language="javaScript" src="bottom.js"></script>

</head>


<body>

<a name="top_of_page"></a>
<p style="font-size: 1px;">&nbsp;</p>
<table border="0" cellpadding="0" cellspacing="0" class="nav" summary="Navigation aid" width="100%">
	<tr>
		<td valign="baseline"><b>Flexible Statistics Data Analysis Toolbox&trade;</b></td>
		<td align="right" valign="baseline"><a href="waitforbuttonpressfs.html">
		<img align="bottom" alt="selectdataFS" border="0" src="images_help/b_prev.gif"></a>&nbsp;&nbsp;
		<a href="zscoresfs.html">
		<img align="bottom" alt="alphabetical" border="0" src="images_help/b_next.gif"></a></td>
	</tr>
</table>
<a name="bq24of9-1"></a><a class="indexterm" name="zmw57dd0e69698"></a>
<h1 class="reftitle">yXplot</h1>
<!-- SYNCHTO: bq_w_hm.html -->
<p class="purpose">Plots y against each column of matrix X. </p>
<h2>Syntax </h2>
<p class="synopsis">
<tt>
yXplot(out) <br>
yXplot(out,<i><tt>param1</tt></i>,<i><tt>val1</tt></i>,<i><tt>param2</tt></i>,<i><tt>val2</tt></i>,...)<br>
yXplot(y,X) <br>
yXplot(y,X,<i><tt>param1</tt></i>,<i><tt>val1</tt></i>,<i><tt>param2</tt></i>,<i><tt>val2</tt></i>,...)<br>

</tt></p>
<a name="bq24of9-2"></a>
<h2>Description</h2>
<p><tt>yXplot</tt> extends the MATLAB function
<a href="matlab:web(['jar:file:///',matlabroot,'/help/toolbox/stats/help.jar!/gplotmatrix.html'],'-helpbrowser')">
<tt>gplotmatrix</tt></a> to the interactive and dynamic design of the FSDA toolbox. 
The input argument of <tt>yXplot</tt> 
can be the structure <tt>out</tt> returned by the forward search procedure or simply 
a vector <tt>y</tt> containing the response and a matrix <tt>X</tt> containing the explanatory 
variables. In case out is structure remember that it may be conveniently produced by function
<a href="matlab:web(['file:///d:/domenico/usr_matlab/fs/helpfiles/fsreda.html'],'-helpbrowser')">
<tt>FSReda</tt></a>), <tt> yXplot</tt> uses the following fields of the input structure: </p>
<ul type="disc">
	<li>
	<p><tt>y</tt> &minus; A vector with n elements that contains the response variable 
	which has been used.</p>
	</li>
	<li>
	<p><tt>X</tt> &minus; Data matrix of explanatory variables which has been used (it 
	also contains the column of ones if input option intercept was missing or equal 
	to 1).</p>
	</li>
	<li>
	<p><tt>RES</tt> &minus; A matrix containing the residuals monitored in each step of 
	the forward search. Every row is associated with a unit. The matrix is used 
	when the <tt>databrush</tt> option is active, to generate a
	<a href="resfwdplot.html"><tt>resfwdplot</tt></a> with trajectories highlighted for 
	the residuals associated to the units selected in the yXplot.</p>
	</li>
	
	
	
		    <li>          <tt>Un</tt> &minus; matrix containing the order of entry of each unit
              (necessary if <tt>datatooltip</tt> is true or <tt>databrush</tt> is not empty)
              </li>
            
	
	
</ul>
<p><tt>yXplot(out)</tt>&nbsp;&nbsp;&nbsp; generates the plot with all default options, 
i.e. the plot of y against each column of matrix X is visualized with text labels 
for the units that in at least one step of the search had a scaled residual greater 
than 2.5 in absolute value. The default text label for a given unit is its row line 
number in matrices X and y.</p>

<p><tt>yXplot(y,X)</tt>&nbsp;&nbsp;&nbsp; generates the plot with all default options, 
i.e. the plot of y against each column of matrix X is visualized with no text labels 
</p>


<p><tt>yXplot(out,<i><tt>param1</tt></i>,<i><tt>val1</tt></i>,<i><tt>param2</tt></i>,<i><tt>val2</tt></i>,...)</tt>
or <tt>yXplot(y,X,<i><tt>param1</tt></i>,<i><tt>val1</tt></i>,<i><tt>param2</tt></i>,<i><tt>val2</tt></i>,...)</tt>
&nbsp;&nbsp;&nbsp;&nbsp; 
specify one or more of the name/value pairs described in the following table.</p>
<table border="2" cellpadding="4" cellspacing="0" class="body">
	<colgroup>
		<col width="21%"><col width="79%">
	</colgroup>
	<thead>
		<tr valign="top">
			<th bgcolor="#B2B2B2">Parameter</th>
			<th bgcolor="#B2B2B2">Value</th>
		</tr>
	</thead>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 32px"><tt>&#39;nameX&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 32px">
		<p>cell array of strings of length <em>p</em> containing the labels
                  of the variables of the regression dataset. If it is empty
                	(default) the sequence <em>X</em><sub>1</sub>, ..., <em>X</em><sub>p</sub> will be created
                  automatically..</p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 32px"><tt>&#39;namey&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 32px">
		character containing the label of the response.</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;ylim&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>Vector with two elements controlling minimum and maximum on the y axis. 
		Default value is &#39;&#39; (automatic scale)</p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;xlim&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>Vector with two elements controlling minimum and maximum on the x axis. 
		Default value is &#39;&#39; (automatic scale)</p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;tag&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>String which identifies the handle of the plot which is about to be created. 
		The default is to use tag <tt>&#39;pl_yX&#39;</tt>. </p>
		<p>Notice that if the program finds a plot which has a tag equal to the 
		one specified by the user, then the output of the new plot overwrites the 
		existing one in the same window else a new window is created.</p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;selunit&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>Cell array of strings, string or numeric vector.</p>
		<p>If it is a cell array of strings, only the lines associated with the 
		units that in at least one step of the search had a residual smaller than
		<tt>selunit{1}</tt> or greater than <tt>selline{2}</tt> will have a textbox.</p>
		<p>If it is a string it specifies the threshold above which labels have 
		to be put. For example <tt>selunit=&#39;2.6&#39;</tt> means that the text labels 
		are written only for the units which have in at least one step of the search 
		a value of the scaled residual greater than 2.6 in absolute value.</p>
		<p>If it is a numeric vector it contains the list of the units for which 
		it is necessary to put the text labels.</p>
		<p>The default value of <tt>selunit </tt>is string &#39;2.5&#39;. </p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" colspan="2">The options which follow can only be used if the input is a
		structure which contains information about the fwd search (i.e. the
		two fields RES and Un)</td>
		</tr>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;datatooltip&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>Empty value or structure. The default is <tt>datatooltip=&#39;&#39;.</tt></p>
		<p>If <tt>datatooltip</tt> is not empty the user can use the mouse in order 
		to have information about the unit selected, the step in which the unit 
		enters the search and the associated label. </p>
		<p>If <tt>datatooltip</tt> is a structure, it is possible to control the 
		aspect of the data cursor. See function
		<a href="matlab:web(['jar:file:///',matlabroot,'/help/techdoc/help.jar!/ref/datacursormode.html'],'-helpbrowser')">
		<tt>datacursormode</tt></a> for more details.</p>
		<p>The default options of the structure are <tt>DisplayStyle=&#39;Window&#39;</tt> 
		and <tt>SnapToDataVertex=&#39;on&#39;</tt>.</p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;label&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		  Cell containing the labels of the units (optional
              argument used when <tt>datatooltip=1</tt>. If this field is not
              present labels row1, ..., rown will be automatically
              created and included in the pop up <tt>datatooltip</tt> window)
              </td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;databrush&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>The core of this option is <tt>selectdataFS</tt>, a function used by 
		all graphic tools of the FSDA toolbox. A separate 
		common page details all <a href="databrushoption.html"><tt>databrush</tt> options</a>. </p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" colspan="2">The options which follow work in connection with previous option databrush and produce their effect on the monitoring residuals plot</td>
		</tr>
	<tr valign="top">
		<td bgcolor="#F2F2F2"><tt>&#39;subsize&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>Numeric vector containing the subset size with length equal to the number 
		of columns of the residuals matrix <tt>RES</tt>. If it is not specified, 
		it will be set equal to the vector <tt>(n-nsteps+1):n</tt> being <tt>[n,nsteps]=size(RES)</tt>.
		</p>
		</td>
	</tr>
	<tr valign="top">
		<td bgcolor="#F2F2F2"><tt>&#39;selstep&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>Numeric vector which specifies for which steps of the forward search 
		labels are required. The default is to write the labels at the initial and 
		final step.</p>
		<p>The default is <tt>selstep=[m0 n]</tt> where m0 and n are respectively 
		the first and final step of the search.</p>
		</td>
	</tr>
	</table>
<tt>yXplot</tt> is a complex object generated by the
<a href="matlab:web(['jar:file:///',matlabroot,'/help/toolbox/stats/help.jar!/gplotmatrix.html'],'-helpbrowser')">
<tt>gplotmatrix</tt></a> function. <tt>yXplot</tt> returns the handle of the figure 
hosting the plot. However, depending on the context of use many other plot objects 
might become on interest. The code below can be used to extract the values of the 
points represented in the <tt>yXplot</tt> and the handles of other relevant objects.&nbsp;
<pre>
n=100;
p=3;
X=randn(n,p);
y=randn(n,1);
% Run FS with exploratory data analysis purposes
[out]=LXS(y,X,'nsamp',1000);
[out]=FSReda(y,X,out.bs);
% Example of the use of function yXplot with all the default options
yXplot(out);

%get the handle of the yXplot figure
hfig = findobj('-depth',1,'Tag','pl_yX');

% the children of the yXplot
hChildren  = get(hfig,'Children');
nhChildren = numel(hChildren);

% AX: the handle(s) of the yXplot axes
AX  = hChildren; AX([1 nhChildren])=[];
nAX = numel(AX);

% H: the handles to the points in the subplots of yXplot.
%    Note that the points are MATLAB line objects.
% Vector H is used to extract the values of the yXplot data points.
H = NaN(nAX,1);
hPlotMatrixAxC = get(AX,'Children');
Xi=[];
if nAX > 1
    for i=1:nAX
        H(i) = hPlotMatrixAxC{i,1}(size(hPlotMatrixAxC{1,1},1));
        if i==1
            y  = get(H(i),'YData');
        end
        Xi = [Xi get(H(i),'XData')];
    end
elseif nAX==1
    y  = get(hPlotMatrixAxC(numel(hPlotMatrixAxC)),'YData');
    Xi = get(hPlotMatrixAxC(numel(hPlotMatrixAxC)),'XData');
else
    disp('Error: nAX cannot be negative or zero.');
end
 
% BigAx: the handle to big (invisible) axes framing the entire plot matrix.
BigAx = hChildren(nhChildren);

% The handle of the yXplot legend, if present.
hLegend = hChildren(1);
</pre>
<a name="bq9x7hn"></a><a name="bq5gf2y"></a><br>
<h3>Examples</h3>
<h4>Example 1</h4>
<p>This example shows what is obtained by running <tt>yXplot(out)</tt> with all 
standard options.</p>
<pre>
% load the multiple regression dataset 
% and extract the dependent and independent variables

load multiple_regression
y = multiple_regression.data(:,4);
X = multiple_regression.data(:,1:3);

% choose an initial subset and run the FS

[out]=LXS(y,X,'nsamp',1000);
[out]=FSReda(y,X,out.bs);

% now the yXplot with all standard options
yXplot(out);
</pre>
The figure produced by <tt>yXplot</tt> shows the units with &#39;large&#39; absolute residuals
<p><img alt="" height="420" src="plots/yxplot6.jpg" width="561"></p>
The labeled units can be easily extracted from the <tt>out</tt> structure returned 
by the FS:
<pre>
[n,nsteps] = size(out.RES);
seq = (1:n)&#39;;
selmax = max(out.RES,[],2);
selmin = min(out.RES,[],2);
units  = seq(selmax&gt;2.5 | selmin&lt;-2.5);
</pre>
<pre>
&gt;&gt; units

units =

     9
    21
    30
    31
    38
    43
    47
</pre>

The page <a href="statistical_visualization_yx.html">Brushing the yXplot</a> describes 
a more complex use of <tt>yXplot(out,<i><tt>param1</tt></i>,<i><tt>val1</tt></i>,<i><tt>param2</tt></i>,<i><tt>val2</tt></i>,...)</tt>.
<h3>See Also</h3>
<p><a href="mdrplot.html"><tt>mdrplot</tt></a>, <a href="resfwdplot.html"><tt>resfwdplot</tt></a>,
<a href="fanplot.html"><tt>fanplot</tt></a>,</p>
<p>&nbsp;</p>
<p></p>
<table border="0" cellpadding="0" cellspacing="0" class="nav" summary="Navigation aid" width="100%">
	<tr valign="top">
		<td align="left" width="20"><a href="waitforbuttonpressfs.html">
		<img align="bottom" alt="selectdataFS" border="0" src="images_help/b_prev.gif"></a>
		</td>
		<td align="left">waitforbuttonpressfs.html</td>
		<td>&nbsp;</td>
		<td align="right">zscoresfs.html</td>
		<td align="right" width="20"><a href="zscoresfs.html">
		<img align="bottom" alt="alphabetical" border="0" src="images_help/b_next.gif"></a></td>
	</tr>
</table>
<script type ="text/javascript" language="javaScript">
document.write(barra);
</script>
<!-- Last updated: Fri Jan 23 17:00:05 EST 2009-->

</body>

</html>
