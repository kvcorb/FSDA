<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<!--FScategory:Dynamic Statistical Visualization-->

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>olsline :: Functions (Flexible Statistics Data Analysis Toolbox&trade;)</title>
<link href="docstyle.css" rel="stylesheet" type="text/css">
<meta content="refpage" name="chunktype">
<script  type="text/javascript" language="javaScript" src="bottom.js"></script>

</head>


<body>

<a name="top_of_page"></a>
<p style="font-size: 1px;">&nbsp;</p>
<table border="0" cellpadding="0" cellspacing="0" class="nav" summary="Navigation aid" width="100%">
	<tr>
		<td valign="baseline"><b>Flexible Statistics Data Analysis Toolbox&trade;</b></td>
		<td align="right" valign="baseline"><a href="normboxcox.html">
		<img align="bottom" alt="minplot" border="0" src="images_help/b_prev.gif"></a>&nbsp;&nbsp;
		<a href="optbdp.html">
		<img align="bottom" alt="rescale" border="0" src="images_help/b_next.gif"></a></td>
	</tr>
</table>
<a name="olsline-1"></a><a class="indexterm" name="olsline"></a>
<h1 class="reftitle">olsline</h1>
<!-- SYNCHTO: bq_w_hm.html -->
<p class="purpose">Superimpose least-squares fit lines to the data groups of a
<tt>gplotmatrix</tt>. </p>
<h2>Syntax </h2>
<p class="synopsis"><tt>olsline()<br>h = olsline(i)</tt></p>
<a name="olsline-2"></a>
<h2>Description</h2>
<p><tt>olsline</tt> fits a least-squares line to the data or the groups of a given
<a href="matlab:web(['jar:file:///',matlabroot,'/help/toolbox/stats/help.jar!/gplotmatrix.html'],'-helpbrowser')">
<tt>gplotmatrix</tt></a> panel. The panel where to add the line(s) can be chosen 
by setting the <tt>&#39;CurrentAxes&#39;</tt> property to the axis handle of the panel. 
For example this sets the first <tt>gplotmatrix</tt> panel:</p>
<pre>
[H,AX,BigAx]=gplotmatrix(X,y,group);
set(gcf,&#39;CurrentAxes&#39;,AX(1);
</pre>
<table border="1" cellpadding="5" cellspacing="0" class="note" summary="Note">
	<tr width="90%">
		<td>
		<p><b>Note</b>&nbsp;&nbsp;&nbsp; <tt>olsline</tt> extends the MATLAB function
		<a href="matlab:web(['jar:file:///',matlabroot,'/help/toolbox/stats/help.jar!/lsline.html'],'-helpbrowser')">
		<tt>lsline</tt></a>. It works well with <tt>yXplot</tt>, being based on
		<tt>gplotmatrix.</tt> </p>
		</td>
	</tr>
</table>
<p></p>
<p><tt><a name="olsline-3"></a>olsline</tt> can be called without arguments or with 
a single argument, which can be 0 or an integer between 1 and the number of groups 
in a panel of the plot concerned. </p>
<ul type="disc">
	<li><tt>olsline</tt> called without argument fits a single ordinary least squares 
	line to all data, independently from the data groups in the panel. </li>
	<li><tt>olsline(0)</tt> fits a line to each data group in the panel; </li>
	<li><tt>olsline(i)</tt> for a positive parameter <tt>i &gt;= 1</tt>, fits a single 
	line to the <tt>i-</tt>group in the panel. </li>
</ul>
<p><tt>h = olsline</tt> returns in <tt>h</tt> the handle to the superimposed line 
object(s). </p>
<p>&nbsp; </p>
<h3>Examples</h3>
<h3>Example 1</h3>
In this example a least square line is fit to a bivariate dataset and to two natural 
subgroups.
<pre class="programlisting">
    % load a bivariate dataset   
      
    load fishery;
    y = fishery.data(:,2);
    X = fishery.data(:,1);

    % the dataset is formed by two clear groups of units (vector group)
    
    group=ones(677,1); group(181:216)=2;

    % plot the data
    
    [H,AX,BigAx]=gplotmatrix(X,y,group);

    % and ensure that olsline will act on the figure just generated
    
    set(gcf,&#39;CurrentAxes&#39;,AX);
    </pre>
<img src="plots/olsline1.jpg">
<pre class="programlisting">
    % fit a line to all data
    
    h=olsline; 
    
    % use the handle h returned by olsline to set a text for the legenda
    
    set(h,&#39;DisplayName&#39;,&#39;fit on all units&#39;);
    
    % and update the legenda
    
    hLines = findobj(gca, &#39;type&#39;, &#39;line&#39;);
    legend(hLines);
</pre>
<p><img alt="" height="420" src="plots/olsline2.jpg" width="561"></p>
<pre class="programlisting">
     % fit a line to the first subgroup
     
    h=olsline(size(H,3)); 
    set(h,&#39;DisplayName&#39;,&#39;fit on group 1&#39;);

    % and now fit a line to the second subgroup
    
    h=olsline(size(H,2)); 
    set(h,&#39;DisplayName&#39;,&#39;fit on group 2&#39;);

    % To conclude, update the legenda again
    
    hLines = findobj(gca, &#39;type&#39;, &#39;line&#39;);
    legend(hLines);
</pre>
<p><img alt="" height="420" src="plots/olsline3.jpg" width="561"></p>
<h4>Example 2</h4>
Like in the previous example, we start from the <tt>gplotmatrix</tt> with two groups:
<p><img alt="" height="420" src="plots/olsline1.jpg" width="561"></p>
This time however, we fit a line for each subgroup by simply using the command:
<pre>
    h=olsline(0); 
</pre>
<img src="plots/olsline6.jpg">
<h4>Example 3</h4>
In this example we consider a multiple regression dataset and we show how to use 
olsline with <tt>yXplot</tt>. Note that a least square line is fit to the points 
of each bivariate panel.
<pre>
% load the multiple regression dataset 
% and extract the dependent and independent variables

load multiple_regression
y = multiple_regression.data(:,4);
X = multiple_regression.data(:,1:3);

% choose an initial subset and run the FS

[out]=LXS(y,X,&#39;nsamp&#39;,1000);
[out]=FSReda(y,X,out.bs);

% the yXplot is generated with all standard options

hfig = yXplot(out);
</pre>
<p><img alt="" height="420" src="plots/olsline4.jpg" width="561"></p>
<pre>
% get the children of the yXplot figure

hChildren  = get(hfig,&#39;Children&#39;);
nhChildren = numel(hChildren);

% and extract in the AX vector the handles of the yXplot axes

AX  = hChildren; AX([1 nhChildren])=[];
nAX = numel(AX);

% now superimpose the least square line to the nAX panels of yXplot

for i=1:nAX
	set(hfig ,&#39;CurrentAxes&#39;,AX(i));
	olsline;
end;
</pre>
<p><img alt="" height="420" src="plots/olsline5.jpg" width="561"></p>
<a name="bq24of9-11"></a>
<h3>See Also</h3>
<p><a href="yxplot.html"><tt>yXplot</tt></a>,
<a href="matlab:web(['jar:file:///',matlabroot,'/help/toolbox/stats/help.jar!/gplotmatrix.html'],'-helpbrowser')">
<tt>gplotmatrix</tt></a>,
<a href="matlab:web(['jar:file:///',matlabroot,'/help/toolbox/stats/help.jar!/lsline.html'],'-helpbrowser')">
<tt>lsline</tt></a> </p>
<p></p>
<p></p>
<table border="0" cellpadding="0" cellspacing="0" class="nav" summary="Navigation aid" width="100%">
	<tr valign="top">
		<td align="left" width="20"><a href="normboxcox.html">
		<img align="bottom" alt="mmdplot" border="0" src="images_help/b_prev.gif"></a>
		</td>
		<td align="left">normboxcox.html</td>
		<td>&nbsp;</td>
		<td align="right">optbdp.html</td>
		<td align="right" width="20"><a href="optbdp.html">
		<img align="bottom" alt="rescale" border="0" src="images_help/b_next.gif"></a></td>
	</tr>
</table>
<script type ="text/javascript" language="javaScript">
document.write(barra);
</script>

</body>

</html>
